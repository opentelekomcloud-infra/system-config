applications:
  - name: grafana
    clusters: [in-cluster]
    config:
      namespace: grafana-infra
      repoURL: 'https://github.com/opentelekomcloud-infra/system-config.git'
      targetRevision: feature-1299-Make_ArgoCD_a_part_of_the_ArgoCD_Apps
      path: kubernetes/helm_charts/upstream/grafana
      valueFiles:
        - values-in-cluster.yaml
      project: infra
      syncPolicy:
        automated:
          prune: true
          selfHeal: true
        syncOptions:
          - CreateNamespace=true

  - name: victoria-metrics-auth
    clusters: [in-cluster]
    config:
      namespace: monitoring
      repoURL: 'https://github.com/opentelekomcloud-infra/system-config.git'
      targetRevision: feature-1299-Make_ArgoCD_a_part_of_the_ArgoCD_Apps
      path: kubernetes/helm_charts/upstream/victoria-metrics-auth
      valueFiles:
        - values-in-cluster.yaml
      project: infra
      syncPolicy:
        automated:
          prune: true
          selfHeal: true
        syncOptions:
          - CreateNamespace=true

  - name: promtail
    clusters: [in-cluster]
    config:
      namespace: promtail
      repoURL: 'https://github.com/opentelekomcloud-infra/system-config.git'
      targetRevision: feature-1299-Make_ArgoCD_a_part_of_the_ArgoCD_Apps
      path: kubernetes/helm_charts/upstream/promtail
      valueFiles:
        - values-in-cluster.yaml
      project: infra
      syncPolicy:
        automated:
          prune: true
          selfHeal: true
        syncOptions:
          - CreateNamespace=true

  - name: cert-exporter
    clusters: [in-cluster]
    config:
      namespace: cert-manager
      repoURL: 'https://github.com/opentelekomcloud-infra/system-config.git'
      targetRevision: feature-1299-Make_ArgoCD_a_part_of_the_ArgoCD_Apps
      path: kubernetes/helm_charts/upstream/cert-exporter
      valueFiles:
        - values.yaml
      project: infra
      syncPolicy:
        automated:
          prune: true
          selfHeal: true
        syncOptions:
          - CreateNamespace=true
