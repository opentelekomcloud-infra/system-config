apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "gitea-runner.fullname" . }}-config
  namespace: {{ .Values.namespace | default .Release.Namespace }}
  labels:
    {{- include "gitea-runner.labels" . | nindent 4 }}
data:
  config.yaml: |
    log:
      level: {{ .Values.runner.logLevel }}
    runner:
      file: .runner
      capacity: {{ .Values.runner.capacity }}
      envs:
        DOCKER_HOST: tcp://localhost:2376
        DOCKER_CERT_PATH: /certs/client
        DOCKER_TLS_VERIFY: "1"
    cache:
      enabled: true
      dir: ""
      host: ""
      port: 0
    container:
      network: ""
      privileged: false
      options: ""
      workdir_parent: ""
      valid_volumes: []
      docker_host: ""
    host:
      workdir_parent: ""
