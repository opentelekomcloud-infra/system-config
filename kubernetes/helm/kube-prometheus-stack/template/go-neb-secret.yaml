---
apiVersion: v1
kind: Secret
metadata:
  name: go-neb
  namespace: monitoring
stringData:
  config.yaml: |
    clients:
      - UserID: "{{ .Values.goNeb.userId }}"
        AccessToken: "{{ .Values.goNeb.accessToken }}"
        HomeserverURL: "{{ .Values.goNeb.homeserverURL }}"
        Sync: true
        AutoJoinRooms: true
        DisplayName: "{{ .Values.goNeb.displayName }}"
    services:
       - ID: "alertmanager_service"
         Type: "alertmanager"
         UserID: "{{ .Values.goNeb.userId }}"
         Config:
          webhook_url: "/alertmanager_service"
          rooms:
            "{{ .Values.goNeb.roomId }}":
              text_template: "{{ .Values.goNeb.textTemplate }}"
              html_template: "{{ .Values.goNeb.htmlTemplate }}"
              msg_type: "m.text"
