---
# Nodepool openstacksdk configuration for preprod environment
# Using ArgoCD Vault Plugin syntax
cache:
  expiration:
    server: 5
    port: 5
    floating-ip: 5
clouds:
  otcci-pool1:
    auth:
       auth_url: <path:secret/data/clouds/otcci_nodepool_pool1#auth_url>
       username: <path:secret/data/clouds/otcci_nodepool_pool1#username>
       password: <path:secret/data/clouds/otcci_nodepool_pool1#password>
       project_name: <path:secret/data/clouds/otcci_nodepool_pool1#project_name>
       user_domain_name: <path:secret/data/clouds/otcci_nodepool_pool1#user_domain_name>
    auth_type: password
    region_name: <path:secret/data/clouds/otcci_nodepool_pool1#region_name>
    interface: public
    object_store_endpoint_override: <path:secret/data/clouds/otcci_nodepool_pool1#object_store_endpoint>
  zuul-logs:
    # Swift/OBS log storage configuration using dedicated log_writer user
    auth:
      auth_url: <path:secret/data/zuul/logs/otc_technical_user#auth_url>
      username: <path:secret/data/zuul/logs/otc_technical_user#username>
      password: <path:secret/data/zuul/logs/otc_technical_user#password>
      project_name: <path:secret/data/zuul/logs/otc_technical_user#project_name>
      user_domain_name: <path:secret/data/zuul/logs/otc_technical_user#user_domain_name>
    auth_type: password
    region_name: <path:secret/data/zuul/logs/otc_technical_user#region_name>
    interface: public
    # Explicitly configure OBS/Swift endpoint from Vault
    object_store_endpoint_override: <path:secret/data/zuul/logs/otc_technical_user#object_store_endpoint>
