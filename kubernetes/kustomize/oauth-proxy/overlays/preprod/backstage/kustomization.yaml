---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: backstage

components:
  - ../../../base

patches:
  - path: configmap.patch.yaml
  - path: deployment.patch.yaml
  - path: service.patch.yaml
  - path: serviceaccount.patch.yaml
  - path: networkpolicy.patch.yaml
  - path: poddisruptionbudget.patch.yaml

images:
  - name: oauth2-proxy
    newName: "quay.io/oauth2-proxy/oauth2-proxy"
    newTag: "v7.4.0"

labels:
  - includeSelectors: true
    pairs:
      app.kubernetes.io/instance: "backstage-dev"
      app.kubernetes.io/managed-by: "kustomize"
