- name: Create or update Keycloak client {{ client.name }}
  community.general.keycloak_client:
    state: "present"
    auth_client_id: "admin-cli"
    auth_keycloak_url: "{{ url }}"
    token: "{{ token }}"
    client_id: "{{ client.client_id }}"
    realm: "{{ client.realm }}"
    name: "{{ client.name |default(omit) }}"
    protocol: "{{ client.protocol |default(omit) }}"
    base_url: "{{ client.base_url |default(omit) }}"
    root_url: "{{ client.root_url |default(omit) }}"
    admin_url: "{{ client.admin_url |default(omit) }}"
    description: "{{ client.description |default(omit) }}"
    redirect_uris: "{{ client.redirect_uris |default(omit) }}"
    web_origins: "{{ client.web_origins |default(omit) }}"
    implicit_flow_enabled: "{{ client.implicit_flow_enabled |default(omit) }}"
    public_client: "{{ client.public_client |default(omit) }}"
    secret: "{{ client.secret |default(omit) }}"
    default_client_scopes: "{{ client.default_client_scopes |default(omit) }}"
    optional_client_scopes: "{{ client.optional_client_scopes |default(omit) }}"
