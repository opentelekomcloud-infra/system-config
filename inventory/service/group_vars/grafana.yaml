default: &default_vars
  grafana_plugins: [ ]
  grafana_enable_renderer: true
  grafana_users_allow_sign_up: false
  grafana_renderer_host: "renderer"
  grafana_grafana_host: "grafana"
  grafana_image: "quay.io/opentelekomcloud/grafana:8.1.2"
  grafana_renderer_image: "quay.io/opentelekomcloud/grafana-image-renderer:3.0.1"
  grafana_users_login_hint: "OTC LDAP account"
  grafana_users_password_hint: "OTC LDAP password"

  grafana_deployment_count: 2
  grafana_deployment_resources:
    limits:
      cpu: 500m
      memory: 500Mi
    requests:
      cpu: 100m
      memory: 100Mi
  renderer_deployment_resources:
    limits:
      cpu: 500m
      memory: 500Mi
    requests:
      cpu: 100m
      memory: 100Mi

grafana_instances:
  production_stg:
    cluster_issuer: "letsencrypt-staging"
    fqdn: dashboard.apps.osinfra-stg.eco.tsi-dev.otc-service.com
    default: *default_vars
  production_infra:
    # cluster_issuer: "letsencrypt-prod"
    fqdn: "dashboard.tsi-dev.otc-service.com"
    grafana_cert: "grafana"
    default: *default_vars
  production_infra-mirror:
    # cluster_issuer: "letsencrypt-prod"
    fqdn: "dashboard.tsi-dev.otc-service.com"
    grafana_cert: "grafana"
    default: *default_vars
  production_vc:
    default: *default_vars
  production_infra-eco:
    default: *default_vars
    fqdn: "dashboard.eco.tsi-dev.otc-service.com"
    grafana_cert: "grafana-eco"
    grafana_users_login_hint: "Github username"
    grafana_users_password_hint: "Github password"

grafana_k8s_instances:
  - grafana_instance: "production_stg"
    instance: "stg"
    context: "otcinfra-stg"
    namespace: "apimon"
  - grafana_instance: "production_infra"
    instance: "prod"
    context: "otcinfra"
    namespace: "apimon"
  - grafana_instance: "production_infra-mirror"
    instance: "prod-mirror"
    context: "otcinfra-mirror"
    namespace: "apimon"
  - grafana_instance: "production_infra-eco"
    instance: "prod-eco"
    context: "otcinfra"
    namespace: "grafana-eco"
