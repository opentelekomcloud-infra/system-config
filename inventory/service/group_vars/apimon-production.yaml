# Zone specific vars are overridden on the host_vars level
apimon_statsd_host: 192.168.110.58
apimon_gearman_host: 192.168.110.58
apimon_zone: production_eu-de

apimon_epmon_config_template: "templates/apimon/apimon.yaml.j2"
apimon_epmon_secure_config_template: "templates/apimon/apimon-secure.yaml.j2"
apimon_epmon_secure_file_location: "/etc/apimon/apimon-secure.yaml"
epmon_config_file_name: "apimon.yaml"
epmon_secure_config_file_name: "apimon-secure.yaml"

apimon_scheduler_config_template: "templates/apimon/apimon.yaml.j2"
apimon_scheduler_secure_config_template: "templates/apimon/apimon-secure.yaml.j2"
apimon_scheduler_secure_file_location: "/etc/apimon/apimon-secure.yaml"
scheduler_config_file_name: "apimon.yaml"
scheduler_secure_config_file_name: "apimon-secure.yaml"

apimon_secure_file_location: "/etc/apimon/apimon-secure.yaml"

apimon_executor_config_template: "templates/apimon/executor-config.yaml.j2"
apimon_executor_secure_config_template: "templates/apimon/executor-secure-config.yaml.j2"
apimon_executor_secure_file_location: "/etc/apimon/apimon-executor-secure.yaml"
executor_config_file_name: "apimon-executor.yaml"
executor_secure_config_file_name: "apimon-executor-secure.yaml"

# Endpoint monitoring configuration
# (inventory/service/group_vars/apimon-epmon.yaml)
apimon_epmon_clouds:
  - production_eu-de:
     service_override: "{{ [epmon_antiddos, epmon_as, epmon_cce,
        epmon_ces, epmon_compute, epmon_cinder, epmon_css, epmon_css,
        epmon_cts, epmon_dcs, epmon_dds, epmon_deh, epmon_dis, epmon_dms,
        epmon_designate, epmon_dws, epmon_glance, epmon_keystone,
        epmon_kms, epmon_mrs, epmon_nat, epmon_network, epmon_swift,
        epmon_heat, epmon_rds, epmon_rest, epmon_sdrs, epmon_sfs,
        epmon_smn] | combine }}"
  - production_eu-nl:
     service_override: "{{ [epmon_antiddos, epmon_as, epmon_cce,
        epmon_ces, epmon_compute, epmon_cinder, epmon_css, epmon_css,
        epmon_cts, epmon_dcs, epmon_dds, epmon_deh, epmon_dis, epmon_dms,
        epmon_designate, epmon_dws, epmon_glance, epmon_keystone,
        epmon_kms, epmon_mrs, epmon_nat, epmon_network, epmon_swift,
        epmon_heat, epmon_rds, epmon_rest, epmon_sdrs, epmon_sfs,
        epmon_smn] | combine }}"

# Test projects
apimon_test_projects:
  - name: apimon
    repo_url: https://github.com/opentelekomcloud-infra/apimon-tests
    repo_ref: master
    scenarios_location: playbooks

# Test Environments
apimon_test_environments:
  - name: production_eu-de
    env:
      OS_CLOUD: production_eu-de
    clouds:
      - production_eu-de
  - name: production_eu-nl
    env:
      OS_CLOUD: production_eu-nl
    clouds:
      - production_eu-nl

# Test Matrix
apimon_test_matrix:
  - env: production_eu-de
    project: apimon
  - env: production_eu-nl
    project: apimon
    tasks:
      - scenario1_token.yaml
      - scenario3a_evs_az.yaml
      - scenario4_image.yaml

# Test clouds configuration
apimon_clouds:
  - name: production_eu-de
    cloud: otcapimon_probes1
  - name: production_eu-nl
    cloud: otcapimon_probes5
  - name: swift
    cloud: otcapimon_logs
