ansible_roles:
  - cloud-launcher

cloud_projects:
  # Zuul projects
  - name: "eu-de_zuul_acc"
    cloud: "otc-tests-admin"
  - name: "eu-de_zuul_otce"
    cloud: "otc-tests-admin"
  - name: "eu-de_zuul_go"
    cloud: "otc-tests-admin"
  - name: "eu-de_zuul_rancher"
    cloud: "otc-tests-admin"
  - name: "eu-de_zuul_tf"
    cloud: "otc-tests-admin"
  # APImon projects
  - name: "eu-de_apimon_probes1"
    cloud: "otc-tests-admin"
  - name: "eu-de_apimon_probes2"
    cloud: "otc-tests-admin"
  - name: "eu-de_apimon_probes3"
    cloud: "otc-tests-admin"
  - name: "eu-de_apimon_probes4"
    cloud: "otc-tests-admin"
  - name: "eu-nl_apimon_probes1"
    cloud: "otc-tests-admin"
  - name: "eu-nl_apimon_probes2"
    cloud: "otc-tests-admin"
  - name: "eu-nl_apimon_probes3"
    cloud: "otc-tests-admin"
  - name: "eu-nl_apimon_probes4"
    cloud: "otc-tests-admin"

cloud_user_groups:
  # Zuul groups
  - name: "zuul_functional"
    cloud: "otc-tests-admin"
  - name: "zuul_acc"
    cloud: "otc-tests-admin"
  - name: "zuul_otce"
    cloud: "otc-tests-admin"
  - name: "zuul_go"
    cloud: "otc-tests-admin"
  - name: "zuul_rancher"
    cloud: "otc-tests-admin"
  - name: "zuul_tf"
    cloud: "otc-tests-admin"
  # APImon groups
  - name: "apimon"
    cloud: "otc-tests-admin"

cloud_user_group_assignments:
  # Zuul group user mapping
  - cloud: "otc-tests-admin"
    group: "zuul_functional"
    users:
      - "zuul_functional"
      - "zuul_rancher"
  # APImon group user mapiing
  - cloud: "otc-tests-admin"
    group: "apimon"
    users:
      - "apimon_probes1"
      - "apimon_probes2"
      - "apimon_probes3"
      - "apimon_probes4"
      - "apimon_probes5"
      - "apimon_probes6"
      - "apimon_probes7"
      - "apimon_probes8"


cloud_role_assignments:
  # Zuul role assignments
  - cloud: "otc-tests-admin"
    role: "te_admin"
    projects:
      - "eu-de_zuul_acc"
      - "eu-de_zuul_otce"
      - "eu-de_zuul_go"
      - "eu-de_zuul_rancher"
      - "eu-de_zuul_tf"
    groups:
      - "zuul_functional"
  # APImon role assignments
  - cloud: "otc-tests-admin"
    role: "server_adm"
    projects:
      - "eu-de_apimon_probes1"
      - "eu-de_apimon_probes2"
      - "eu-de_apimon_probes3"
      - "eu-de_apimon_probes4"
      - "eu-nl_apimon_probes1"
      - "eu-nl_apimon_probes2"
      - "eu-nl_apimon_probes3"
      - "eu-nl_apimon_probes4"
    groups:
      - "apimon"
  - cloud: "otc-tests-admin"
    role: "te_admin"
    projects:
      - "eu-de_apimon_probes1"
      - "eu-de_apimon_probes2"
      - "eu-de_apimon_probes3"
      - "eu-de_apimon_probes4"
      - "eu-nl_apimon_probes1"
      - "eu-nl_apimon_probes2"
      - "eu-nl_apimon_probes3"
      - "eu-nl_apimon_probes4"
    groups:
      - "apimon"

cloud_load_balancers:
  - cloud: "otc-swift"
    loadbalancer:
      name: "elb-swift"
      vip_subnet: "external_subnet"
      vip_address: "192.168.81.211"
      public_ip_address: "80.158.44.22"
      listeners:
        - name: "listener-https"
          protocol: "terminated_https"
          protocol_port: 443
          ssl_cert: "cert-swift"
          tls_ciphers_policy: "tls-1-2-strict"
      pools:
        - name: "server_group-8080"
          listener: "listener-https"
          description: "Main HTTP traffic"
          lb_algorithm: "round_robin"
          protocol: "http"
      members:
        - name: "proxy_01"
          address: "192.168.80.190"
          pool: "server_group-8080"
          subnet: "management_subnet"
          protocol_port: 8080
        - name: "proxy_02"
          address: "192.168.80.129"
          pool: "server_group-8080"
          subnet: "management_subnet"
          protocol_port: 8080
        - name: "proxy_03"
          address: "192.168.80.15"
          pool: "server_group-8080"
          subnet: "management_subnet"
          protocol_port: 8080

cloud_load_balancer_certificates:
  - cloud: "otc-swift"
    name: "cert-swift"
    domain: "swift.eco.tsi-dev.otc-service.com"
    type: "server"
    ssl_cert: "swift-eco"
